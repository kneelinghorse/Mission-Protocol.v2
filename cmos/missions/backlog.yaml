# pack.yaml - Metadata for the "Sprint Plan" Domain Pack
name: "Planning.SprintPlan.v1"
version: "1.0.0"
displayName: "Sprint Plan Orchestrator"
description: "A high-level mission to track and manage a project's sprints, missions, and dependencies. It serves as a living document for the project backlog and current status."
author: "Your Name/Team"
schema: "./schemas/SprintPlan.v1.json"

---

# Mission File: project-main-backlog.yaml

missionId: "SP-MAIN-001"

objective: "To successfully track, manage, and complete all planned development sprints, from Sprint 1 (Foundation) through Sprint 4 (Intelligence Layer)."

context: |
  This mission file represents the master backlog and sprint plan for the Mission Creation Protocol (MCP) project.
  It provides a single source of truth for what has been completed, what is in progress, and what is planned.
  This structured format allows for automated status tracking and dependency management.

successCriteria:
  - "All missions within Sprint 1 are marked as 'Completed'."
  - "All missions within Sprint 2 are marked as 'Completed'."
  - "All missions within Sprint 3 are marked as 'Completed'."
  - "All missions within Sprint 4 are successfully moved through 'Current' to 'Completed' status."

deliverables:
  - "A fully updated version of this mission file with all sprints marked as complete."

domainFields:
  type: "Planning.SprintPlan.v1"

  sprints:
    - sprintId: "Sprint 1"
      title: "Template Recovery"
      focus: "Restore canonical templates, reinstate Phase 2 integration tests, and update project docs."
      status: "Completed"
      missions:
        - { id: "B1.1", name: "Restore Template Runtime Store", status: "Completed", completed_at: "2025-10-24T16:23:22Z", notes: "Restored templates/ with registry.yaml, generic_mission.yaml, and 5 domain packs; all tests passing" }
        - { id: "B1.2", name: "Reinstate Phase 2 Tests & Smoke Coverage", status: "Completed", completed_at: "2025-10-24T22:45:00Z", notes: "Phase 2 integration tests fully operational; 742 tests passing with 94%+ overall coverage" }
        - { id: "B1.3", name: "Refresh Docs, Backlog, and Context", status: "Completed", completed_at: "2025-10-24T17:56:25Z", notes: "Refreshed README, Phase 4 report, roadmap, backlog, and master context (JSON + MD) with the restored template baseline and green Phase 2 tests" }

    - sprintId: "Sprint 2"
      title: "MCP Surface Hardening"
      focus: "Expose Phase 4 tools through MCP, integrate hybrid token counting, and stand up accuracy monitoring."
      status: "Completed"
      missions:
        - { id: "R2.1", name: "Token Counting Strategy Analysis", status: "Completed", completed_at: "2025-10-25T10:15:00Z", notes: "Research recommended a hybrid tokenizer approach plus drift monitoring." }
        - { id: "B2.1", name: "Hybrid Token Counter Integration", status: "Completed", completed_at: "2025-10-24T20:38:37Z", notes: "Implemented TokenizerFactory with gpt-tokenizer (GPT), Transformers.js (Claude), enhanced heuristic (Gemini); 745/745 tests passing" }
        - { id: "B2.2", name: "Register Intelligence Tools in MCP Server", status: "Completed", completed_at: "2025-10-24T22:07:35Z", notes: "Registered optimize_tokens, split_mission, and suggest_splits tools in MCP server with async token counting; 750/750 tests passing" }
        - { id: "B2.3", name: "Token Validation & Telemetry Pipeline", status: "Completed", completed_at: "2025-10-25T00:33:21Z", notes: "Telemetry instrumentation + CI validation workflow operational; 801/801 tests passing; README and docs updated with accuracy expectations" }

    - sprintId: "Sprint 3"
      title: "Mission Tooling Stabilization"
      focus: "Secure write-enabled MCP tools and restore failing Jest suites to unblock CI."
      status: "In Progress"
      missions:
        - { id: "B3.1", name: "Secure Write-Enabled Tools", status: "Current" }
        - { id: "B3.2", name: "Restore Optimize Tokens Tool Contract", status: "Queued" }
        - { id: "B3.3", name: "Type SecureYAML & Security Validator Tests", status: "Queued" }
        - { id: "B3.4", name: "Align Dependency Analyzer & Migration Tests", status: "Queued" }

    - sprintId: "Sprint 4"
      title: "Intelligence Layer Enhancements"
      focus: "Improve splitting, dependency analysis, and actionable intelligence signals."
      status: "Planned"
      missions:
        - { id: "B4.1", name: "Split Mission Guardrails & Tuning", status: "Planned" }
        - { id: "B4.2", name: "Intelligence Telemetry Surfacing", status: "Planned" }
        - { id: "B4.3", name: "Dependency & Quality Summaries", status: "Planned" }

    - sprintId: "Sprint 5"
      title: "Mission Protocol Growth"
      focus: "Strengthen template distribution, onboarding, and strategic planning."
      status: "Planned"
      missions:
        - { id: "B5.1", name: "Template Sharing & Import Flows", status: "Planned" }
        - { id: "B5.2", name: "Author Onboarding Refresh", status: "Planned" }
        - { id: "B5.3", name: "Next Investment Planning", status: "Planned" }

  # Structured representation of the Mermaid diagram from backlog.md
  missionDependencies:
    # Sprint 1 dependencies
    - { from: "B1.1", to: "B1.2", type: "Blocks" }
    - { from: "B1.2", to: "B1.3", type: "Blocks" }

    # Future sprint placeholders (to be refined during sprint planning)
    - { from: "B2.1", to: "B2.2", type: "Blocks" }
    - { from: "B2.2", to: "B2.3", type: "Blocks" }
    - { from: "B3.1", to: "B3.2", type: "Blocks" }
    - { from: "B3.2", to: "B3.3", type: "Blocks" }
    - { from: "B3.3", to: "B3.4", type: "Blocks" }
    - { from: "B4.1", to: "B4.2", type: "Blocks" }
    - { from: "B4.2", to: "B4.3", type: "Blocks" }
    - { from: "B5.1", to: "B5.2", type: "Blocks" }
    - { from: "B5.2", to: "B5.3", type: "Blocks" }
