# pack.yaml - Metadata for the "Sprint Plan" Domain Pack
name: "Planning.SprintPlan.v1"
version: "1.0.0"
displayName: "Sprint Plan Orchestrator"
description: "A high-level mission to track and manage a project's sprints, missions, and dependencies. It serves as a living document for the project backlog and current status."
author: "Your Name/Team"
schema: "./schemas/SprintPlan.v1.json"

---

# Mission File: project-main-backlog.yaml

missionId: "SP-MAIN-001"

objective: "To successfully track, manage, and complete all planned development sprints, from Sprint 1 (Foundation) through Sprint 5 (Process Intelligence)."

context: |
  This mission file represents the master backlog and sprint plan for the Mission Creation Protocol (MCP) project.
  It provides a single source of truth for what has been completed, what is in progress, and what is planned.
  This structured format allows for automated status tracking and dependency management.

successCriteria:
  - "All missions within Sprint 1 are marked as 'Completed'."
  - "All missions within Sprint 2 are marked as 'Completed'."
  - "All missions within Sprint 3 are marked as 'Completed'."
  - "All missions within Sprint 4 are successfully moved through 'Current' to 'Completed' status."
  - "All missions within Sprint 5 are successfully moved through 'Current' to 'Completed' status."

deliverables:
  - "A fully updated version of this mission file with all sprints marked as complete."

domainFields:
  type: "Planning.SprintPlan.v1"

  sprints:
    - sprintId: "Sprint 1"
      title: "Template Recovery"
      focus: "Restore canonical templates, reinstate Phase 2 integration tests, and update project docs."
      status: "Completed"
      missions:
        - { id: "B1.1", name: "Restore Template Runtime Store", status: "Completed", completed_at: "2025-10-24T16:23:22Z", notes: "Restored templates/ with registry.yaml, generic_mission.yaml, and 5 domain packs; all tests passing" }
        - { id: "B1.2", name: "Reinstate Phase 2 Tests & Smoke Coverage", status: "Completed", completed_at: "2025-10-24T22:45:00Z", notes: "Phase 2 integration tests fully operational; 742 tests passing with 94%+ overall coverage" }
        - { id: "B1.3", name: "Refresh Docs, Backlog, and Context", status: "Completed", completed_at: "2025-10-24T17:56:25Z", notes: "Refreshed README, Phase 4 report, roadmap, backlog, and master context (JSON + MD) with the restored template baseline and green Phase 2 tests" }

    - sprintId: "Sprint 2"
      title: "MCP Surface Hardening"
      focus: "Expose Phase 4 tools through MCP, integrate hybrid token counting, and stand up accuracy monitoring."
      status: "Completed"
      missions:
        - { id: "R2.1", name: "Token Counting Strategy Analysis", status: "Completed", completed_at: "2025-10-25T10:15:00Z", notes: "Research recommended a hybrid tokenizer approach plus drift monitoring." }
        - { id: "B2.1", name: "Hybrid Token Counter Integration", status: "Completed", completed_at: "2025-10-24T20:38:37Z", notes: "Implemented TokenizerFactory with gpt-tokenizer (GPT), Transformers.js (Claude), enhanced heuristic (Gemini); 745/745 tests passing" }
        - { id: "B2.2", name: "Register Intelligence Tools in MCP Server", status: "Completed", completed_at: "2025-10-24T22:07:35Z", notes: "Registered optimize_tokens, split_mission, and suggest_splits tools in MCP server with async token counting; 750/750 tests passing" }
        - { id: "B2.3", name: "Token Validation & Telemetry Pipeline", status: "Completed", completed_at: "2025-10-25T00:33:21Z", notes: "Telemetry instrumentation + CI validation workflow operational; 801/801 tests passing; README and docs updated with accuracy expectations" }

    - sprintId: "Sprint 3"
      title: "Mission Tooling Stabilization"
      focus: "Secure write-enabled MCP tools and restore failing Jest suites to unblock CI."
      status: "Completed"
      missions:
        - { id: "B3.1", name: "Secure Write-Enabled Tools", status: "Completed", completed_at: "2025-10-27T23:36:52Z", notes: "Hardened update_token_optimization and split_mission with workspace path guards and atomic writes." }
        - { id: "B3.2", name: "Restore Optimize Tokens Tool Contract", status: "Completed", completed_at: "2025-10-27T23:48:31Z", notes: "Restored optimize_tokens contract alias and added snapshot guardrails for tool definitions." }
        - { id: "B3.3", name: "Type SecureYAML & Security Validator Tests", status: "Completed", completed_at: "2025-10-28T00:06:12Z", notes: "Restored loader and validator test suites with typed fixtures and guard helpers." }
        - id: "B3.4"
          name: "Align Dependency Analyzer & Migration Tests"
          status: "Completed"
          started_at: "2025-10-28T00:08:16Z"
          completed_at: "2025-10-28T00:15:24Z"
          notes: "Aligned migration result typing with dependency analyzer flows and restored versioning tests green."

    - sprintId: "Sprint 4"
      title: "Intelligence Platform Refinement"
      focus: "Harden tokenizer telemetry, establish quality tooling, integrate domain packs, and streamline intelligence workflows."
      status: "Current"
      missions:
        - id: "B4.1"
          name: "Token Telemetry Hardening"
          status: "Completed"
          started_at: "2025-10-28T15:59:42Z"
          completed_at: "2025-10-28T16:32:05Z"
          notes: "Token telemetry preloads, verbosity controls, and health metrics implemented with tests updated."
        - id: "B4.2"
          name: "Quality Tooling + Tool Snapshots"
          status: "Completed"
          started_at: "2025-10-28T17:07:59Z"
          completed_at: "2025-10-28T17:20:49Z"
          notes: "Established linting/formatting baseline, tool definition snapshots, and automated quality metrics."
        - id: "B4.3"
          name: "Domain Pack Integration - Phase 1 (Discovery)"
          status: "Completed"
          started_at: "2025-10-28T17:54:59Z"
          completed_at: "2025-10-28T18:01:05Z"
          notes: "Integrated discovery domain packs with workflow samples, smoke tests, and registry validation."
        - id: "B4.4"
          name: "Security Hardening - Workspace Validation"
          status: "Completed"
          started_at: "2025-10-28T18:12:19Z"
          completed_at: "2025-10-28T18:22:37Z"
          notes: "Centralized workspace allowlist and hardened tool path validation with new security coverage."
        - id: "B4.5"
          name: "Domain Pack Integration - Phase 2 (Engineering)"
          status: "Completed"
          started_at: "2025-10-28T18:33:05Z"
          completed_at: "2025-10-28T18:38:25Z"
          notes: "Engineering and process domain packs now have workflow samples, smoke coverage, and validation guards."
        - id: "B4.6"
          name: "README & Documentation Refresh"
          status: "Completed"
          started_at: "2025-10-28T19:02:49Z"
          completed_at: "2025-10-28T19:06:22Z"
          notes: "Refreshed README and quality scoring documentation to capture Sprint 4 progress and quality baselines."
        - id: "B4.7"
          name: "Domain Pack Integration - Phase 3 (Product)"
          status: "Completed"
          started_at: "2025-10-28T19:15:06Z"
          completed_at: "2025-10-28T19:19:36Z"
          notes: "Added product workflow samples, smoke suite, validation guardrails, and workflow documentation."

    - sprintId: "Sprint 5"
      title: "Process Intelligence & Knowledge"
      focus: "Build mission outcome analytics, enhance dependency intelligence, and refresh author onboarding."
      status: "Current"
      missions:
        - id: "B5.1"
          name: "Mission Outcome Analytics"
          status: "Completed"
          started_at: "2025-10-28T19:49:21Z"
          completed_at: "2025-10-28T19:57:50Z"
          notes: "Delivered mission outcome analytics engine, npm outcomes script, and artifact baseline."
        - id: "B5.2"
          name: "Dependency & Context Intelligence"
          status: "Completed"
          started_at: "2025-10-28T20:03:57Z"
          completed_at: "2025-10-28T20:38:27Z"
          notes: "Added mission history analytics, enhanced dependency analyzer, and context propagation updates; tests pending due to coverage threshold gap."
        - id: "B5.3"
          name: "Author Onboarding Refresh"
          status: "Completed"
          started_at: "2025-10-28T21:34:37Z"
          completed_at: "2025-10-28T21:36:26Z"
          notes: "Refreshed author onboarding with full 24-pack catalog, intelligence workflows, and quick-start coverage."
        - { id: "B5.4", name: "Next Investment Planning", status: "Completed" }

    - sprintId: "Sprint 6"
      title: "Research-Informed Intelligence Upgrade"
      focus: "Implement comprehensive intelligence upgrade based on R6.1-R6.4 research findings: structured templates, lifecycle-aware dependencies, hybrid RAG, agentic control, and enhanced research workflows."
      status: "Current"
      missions:
        - id: "B6.1"
          name: "Structured Mission Templates (XML/JSON Hybrid)"
          status: "Completed"
          started_at: "2025-10-28T23:47:59Z"
          completed_at: "2025-10-28T23:57:02Z"
          notes: "Delivered hybrid XML/JSON template spec, parser, migration scaffold, and validation tests."
        - id: "B6.2"
          name: "Lifecycle-Aware Dependency Analyzer"
          status: "Completed"
          started_at: "2025-10-29T01:11:51Z"
          completed_at: "2025-10-29T01:22:01Z"
          notes: "Lifecycle-aware dependency analyzer now adds PDLC/SDLC phase detection, artifact-based inference, and sequencing warnings."
        - id: "B6.3"
          name: "Context Propagation v3 - Hybrid RAG Pipeline"
          status: "Completed"
          started_at: "2025-10-29T01:32:06Z"
          completed_at: "2025-10-29T01:47:39Z"
          notes: "Shipped hybrid RAG context propagation with sparse+dense retrieval fusion, adaptive chunking, and expanded coverage tests."
        - id: "B6.4"
          name: "Agentic Controller & State Management"
          status: "Completed"
          started_at: "2025-10-29T02:01:03Z"
          completed_at: "2025-10-29T02:31:36Z"
          notes: "Agentic controller delivered with persistent state manager, event-driven context propagation, and dynamic mission queries"
        - id: "B6.5"
          name: "Research Mission Template Enhancements"
          status: "Completed"
          started_at: "2025-10-29T03:01:49Z"
          completed_at: "2025-10-29T03:05:51Z"
          notes: "Delivered pattern-driven research template with PRD/SRD alignment and interactive handoff checklists."

    - sprintId: "Sprint 6+"
      title: "Deferred Architectural Work"
      focus: "Address architectural improvements and performance optimizations when proven necessary."
      status: "Deferred"
      missions:
        - { id: "D6.1", name: "MCP Bootstrap Modularization", status: "Deferred", notes: "Deferred from Sprint 4 - not blocking current work" }
        - { id: "D6.2", name: "Mission Splitter Performance Optimization", status: "Deferred", notes: "Deferred from Sprint 4 - no performance issues experienced" }
        - { id: "D6.3", name: "Parallel Dependency Resolution", status: "Deferred", notes: "Deferred until proven bottleneck" }
        - { id: "D6.4", name: "JSDoc Coverage Initiative", status: "Deferred", notes: "Can be incremental or dedicated mission" }

    - sprintId: "Sprint 7"
      title: "Code Quality & Validation Hardening"
      focus: "Implement security, validation, performance, and consistency improvements across templates, MCP, and intelligence."
      status: "Current"
      missions:
        - id: "B7.1"
          name: "Hybrid Component Validation"
          status: "Completed"
          started_at: "2025-10-30T21:17:06Z"
          completed_at: "2025-10-30T21:20:24Z"
          notes: "Hardened hybrid component src handling with traversal guards, existence checks, and dedicated tests."
        - { id: "B7.2", name: "Schema Validation Hardening", status: "Current", notes: "Enforce size/complexity limits and Draft-07 compliance for embedded JSON Schemas." }
        - { id: "B7.3", name: "Context Window Centralization", status: "Queued", notes: "Centralize model context windows in a shared registry; remove hardcoded values." }
        - { id: "B7.4", name: "CI Validation Checks", status: "Queued", notes: "Add registry consistency and template-schema validation to CI." }
        - { id: "B7.5", name: "Versioning Contract Documentation", status: "Queued", notes: "Document version fields and add cross-validator + migration guide." }
        - { id: "B7.6", name: "Placeholder Standardization", status: "Queued", notes: "Standardize placeholder conventions and add validation + CI." }
        - { id: "B7.7", name: "Schema Caching Optimization", status: "Queued", notes: "Cache Ajv compiled schemas and add lazy loading for packs." }
        - { id: "B7.8", name: "Cancellation & Timeout Support", status: "Queued", notes: "Add AbortController and timeouts to long-running intelligence tools." }
        - { id: "B7.9", name: "Style Guide Standardization", status: "Queued", notes: "Create pack manifest style guide and validator with CI checks." }
        - { id: "B7.10", name: "Hybrid Component Catalog", status: "Queued", notes: "Document available components with usage examples and integration guidance." }

  # Structured representation of the Mermaid diagram from backlog.md
  missionDependencies:
    # Sprint 1 dependencies
    - { from: "B1.1", to: "B1.2", type: "Blocks" }
    - { from: "B1.2", to: "B1.3", type: "Blocks" }

    # Future sprint placeholders (to be refined during sprint planning)
    - { from: "B2.1", to: "B2.2", type: "Blocks" }
    - { from: "B2.2", to: "B2.3", type: "Blocks" }
    - { from: "B3.1", to: "B3.2", type: "Blocks" }
    - { from: "B3.2", to: "B3.3", type: "Blocks" }
    - { from: "B3.3", to: "B3.4", type: "Blocks" }
    # Sprint 4 dependencies (revised structure)
    - { from: "B4.1", to: "B4.2", type: "Blocks" }
    - { from: "B4.2", to: "B4.3", type: "Blocks" }
    - { from: "B4.3", to: "B4.4", type: "Blocks" }
    - { from: "B4.4", to: "B4.5", type: "Blocks" }
    - { from: "B4.5", to: "B4.6", type: "Blocks" }
    - { from: "B4.6", to: "B4.7", type: "Blocks" }
    # Sprint 5 dependencies (revised structure)
    - { from: "B5.1", to: "B5.2", type: "Blocks" }
    - { from: "B5.2", to: "B5.3", type: "Blocks" }
    - { from: "B5.3", to: "B5.4", type: "Blocks" }
    # Sprint 6 dependencies (research-informed intelligence upgrade)
    - { from: "B6.1", to: "B6.3", type: "Blocks" }
    - { from: "B6.1", to: "B6.5", type: "Blocks" }
    - { from: "B6.3", to: "B6.4", type: "Blocks" }
    - { from: "B6.4", to: "B6.6", type: "Blocks" }
    - { from: "B6.2", to: "B6.7", type: "Blocks" }
