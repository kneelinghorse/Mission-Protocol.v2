type: "research.deep-research-technical"

# Gemini Deep Research Configuration for Technical Research
geminiDeepResearch:
  # Tool Selection & Configuration
  tools:
    # Google Search Grounding - Technical documentation, API docs, code examples
    googleSearch:
      enabled: true
      description: "Enable Google Search for finding official documentation, GitHub repos, Stack Overflow, technical blogs, and API references."
      focusAreas:
        - "Official documentation"
        - "GitHub repositories and code examples"
        - "Technical blog posts and tutorials"
        - "API reference documentation"
        - "Stack Overflow and Q&A sites"
      notes: "Model autonomously generates technical search queries. Review grounding_metadata for executed queries and cited sources."
    
    # File Search (Managed RAG) - Codebase analysis, internal docs, prior research
    fileSearch:
      enabled: false
      storeName: ""
      description: "RAG system for grounding in codebase, internal documentation, prior technical research, and proprietary technical docs."
      config:
        displayName: ""
        customMetadata:
          - key: "project"
            stringValue: ""
          - key: "technology"
            stringValue: ""
          - key: "research_date"
            stringValue: ""
        chunkingConfig: null
      notes: "Use customMetadata to filter by project, technology stack, or research date. Configure chunkingConfig for code-specific chunking strategies."
    
    # URL Context - Deep analysis of technical documentation, code repos, API specs
    urlContext:
      enabled: false
      urls: []
      description: "Deep analysis of specific technical URLs: API documentation, GitHub repos, technical specifications, architecture diagrams."
      supportedFormats:
        - "API documentation (OpenAPI, GraphQL schemas)"
        - "GitHub repository READMEs and code"
        - "Technical PDFs and specifications"
        - "Architecture diagrams and images"
        - "Code examples and tutorials"
      notes: "Pass technical URLs directly. Supports code files, JSON schemas, technical PDFs, and architecture diagrams."
  
  # gemini-cli Configuration for Technical Research
  geminiCli:
    # Custom .toml Command Strategy for Technical Workflows
    useCustomCommands: false
    customCommandPath: ""
    commandDescription: ""
    # Shell execution blocks for technical context
    shellContextBlocks:
      - "!{git log --oneline -10}"  # Recent commits
      - "!{npm list --depth=0}"  # Dependencies
      - "!{find . -name '*.md' -type f | head -20}"  # Documentation files
    # Code analysis commands
    codeAnalysisCommands:
      - "!{grep -r 'import.*' src/ | head -20}"  # Import analysis
      - "!{find . -name '*.test.*' -o -name '*.spec.*' | wc -l}"  # Test coverage
    
    # MCP Server Integration
    mcpServers: []
    
    # Technical Research Workflow Parameters
    workflow:
      # Research Depth Control
      depth:
        level: "comprehensive"  # Options: "quick", "standard", "comprehensive", "exhaustive"
        maxSearchIterations: 7
        requireMultipleSources: true
        crossValidationRequired: true
        requireCodeExamples: true
        requireOfficialDocs: true
      
      # Research Breadth Control
      breadth:
        scope: "focused"  # Options: "narrow", "focused", "broad", "expansive"
        maxTechnologiesPerQuery: 2
        allowTechnologyExpansion: true
        relatedTechnologiesThreshold: 0.7
        includeAlternatives: true
      
      # Source Selection & Quality
      sources:
        preferredDomains:
          - "github.com"
          - "npmjs.com"
          - "stackoverflow.com"
          - "developer.mozilla.org"
          - "docs.python.org"
          - "nodejs.org"
        excludedDomains: []
        requireRecentSources: true  # Technical docs change frequently
        minSourceCount: 3
        maxSourceCount: 15
        sourceTypes: ["documentation", "code", "tutorial"]  # Technical focus
        requireOfficialDocumentation: true
      
      # Citation & Evidence Standards
      citations:
        requireCitations: true
        citationFormat: "markdown"
        includeGroundingMetadata: true
        trackSearchQueries: true
        includeCodeSnippets: true
        requireVersionNumbers: true  # For technical accuracy

# Technical Research Core Fields
type: "architectural discovery"
researchObjectives:
  - ""

technologiesUnderInvestigation:
  - ""

evaluationCriteria:
  - ""

prototypeRequirements:
  - ""

# Gemini-Enhanced Technical Research Plan
geminiTechnicalResearchPlan:
  # Research Strategy
  strategy:
    approach: ""  # Options: "comparative", "proof-of-concept", "performance-benchmark", "security-audit", "architecture-review"
    primaryTool: "google_search"  # Options: "google_search", "file_search", "url_context", "hybrid"
    toolSequence: []
    focusAreas:
      - "Performance characteristics"
      - "Security considerations"
      - "Integration complexity"
      - "Community support and maintenance"
      - "Licensing and compliance"
  
  # Technical Query Formulation
  queries:
    initialQueries: []
    followUpQueries: []
    technicalFocus: ""  # e.g., "API design", "scalability", "security", "developer experience"
    refinementStrategy: ""
  
  # Research Execution Log
  execution:
    searchQueriesExecuted: []
    sourcesAnalyzed: []
    toolsUsed: []
    codeRepositoriesAnalyzed: []
    documentationSitesAnalyzed: []
    iterations: []
  
  # Technical Evidence Collection
  technicalEvidence:
    codeExamples: []
    apiSpecifications: []
    performanceBenchmarks: []
    securityConsiderations: []
    integrationPatterns: []

# Structured Prompting (Enhanced with Gemini)
structured_prompting:
  enabled: true
  role: |
    You are a staff-level research engineer skilled in rapid technical investigations and evidence gathering.
    You have access to Gemini Deep Research tools including Google Search, File Search, and URL Context.
    Use these tools to find authoritative technical documentation, code examples, and real-world usage patterns.
    Balance exploration with rigor, documenting findings and risks for downstream implementation.
  context: |
    Mission: [mission_id] focused on [research_focus].
    Review prior research notes, architecture decisions, and constraints before experimentation.
    Use Gemini Deep Research tools to:
    - Find official documentation and API references
    - Analyze code repositories and examples
    - Cross-reference multiple sources for validation
    - Identify security, performance, and integration considerations
    Capture assumptions, unknowns, and cross-team inputs that influence outcomes.
  task: |
    Execute the planned research spikes and prototypes using Gemini Deep Research capabilities.
    For each technology under investigation:
    1. Use Google Search to find official documentation and community resources
    2. Analyze code examples and GitHub repositories using URL Context
    3. Cross-validate findings across multiple authoritative sources
    4. Document performance characteristics, security considerations, and integration patterns
    5. Provide code examples and API usage patterns where relevant
    
    Validate hypotheses, record measurable results, and outline implementation implications.
    Summarize insights that guide go/no-go decisions or next-phase missions.
  format: |
    Deliver a technical research report with:
    - Executive summary of findings
    - Technology evaluation matrix
    - Code examples and API usage patterns
    - Performance and security considerations
    - Integration recommendations
    - Links to artifacts (benchmarks, prototypes, docs) produced during the mission
    - Citations from official documentation and authoritative sources
  constraints: |-
    - Maintain reproducibility; capture commands, versions, and configurations
    - Cite official documentation and version numbers for accuracy
    - Stay within approved tooling and environments documented in agents.md
    - Flag inconclusive results or blockers with explicit follow-up actions
    - Avoid scope creep beyond the research objectives articulated here
    - Use Gemini grounding metadata to track research sources and queries

# Technical Research Guidance
technicalResearchGuidance:
  promptTemplates:
    initialTechnicalResearch: |
      You are conducting deep technical research on: {{technologiesUnderInvestigation}}
      Research Objectives: {{researchObjectives}}
      Evaluation Criteria: {{evaluationCriteria}}
      
      Research Parameters:
      - Depth: {{depth.level}}
      - Breadth: {{breadth.scope}}
      - Required Sources: {{sources.minSourceCount}}-{{sources.maxSourceCount}}
      - Must include official documentation: {{sources.requireOfficialDocumentation}}
      - Require code examples: {{depth.requireCodeExamples}}
      
      Use Google Search to find:
      1. Official documentation and API references
      2. GitHub repositories with real-world usage
      3. Technical blog posts and tutorials
      4. Stack Overflow discussions and Q&A
      5. Performance benchmarks and comparisons
      
      For each technology:
      - Verify with official documentation
      - Find code examples and usage patterns
      - Identify security considerations
      - Assess integration complexity
      - Note version compatibility and maintenance status
      - Provide citations with URLs and version numbers
    
    codeAnalysisResearch: |
      Analyze the following codebase/technology:
      - Technology: {{technologiesUnderInvestigation}}
      - Focus: {{technicalFocus}}
      
      Use URL Context to deeply analyze:
      - Official API documentation
      - GitHub repository code and examples
      - Technical specifications
      
      Extract:
      - API patterns and best practices
      - Code examples and snippets
      - Integration patterns
      - Performance characteristics
      - Security considerations
  
  toolUsageGuidance:
    googleSearch: |
      Use Google Search for technical research:
      - Official documentation (e.g., "React documentation", "Node.js API")
      - GitHub repositories ("technology-name github")
      - Technical tutorials and blog posts
      - Stack Overflow discussions
      - Performance benchmarks and comparisons
      - Security advisories and best practices
      
      Review grounding_metadata to see executed queries and cited sources.
      Prioritize official documentation and well-maintained repositories.
    
    fileSearch: |
      Use File Search for:
      - Internal codebase analysis
      - Prior technical research documents
      - Proprietary technical documentation
      - Code examples from previous projects
      
      Configure customMetadata for filtering:
      - Project name
      - Technology stack
      - Research date
      - Code language
    
    urlContext: |
      Use URL Context for deep technical analysis:
      - Official API documentation pages
      - GitHub repository READMEs and code
      - Technical specification PDFs
      - Architecture diagrams
      - Code example repositories
      
      Extract:
      - API signatures and patterns
      - Code examples and snippets
      - Configuration examples
      - Integration patterns
  
  workflowOptimization:
    technicalResearchProcess: |
      1. Start with official documentation search
      2. Find GitHub repositories with real-world usage
      3. Analyze code examples and patterns
      4. Cross-reference with multiple sources
      5. Identify security and performance considerations
      6. Document integration patterns
      7. Provide code examples and API usage
    
    qualityAssurance: |
      - Require official documentation for each technology
      - Include code examples from authoritative sources
      - Verify version compatibility
      - Cross-validate findings across multiple sources
      - Document security and performance considerations
      - Track search queries for reproducibility
      - Include grounding metadata in final report
      - Provide actionable integration recommendations

