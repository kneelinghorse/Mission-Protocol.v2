{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "type": {
      "type": "string",
      "description": "Domain type identifier"
    },
    "sourcePRD": {
      "type": "string",
      "description": "Reference to the source PRD mission ID"
    },
    "systemArchitecture": {
      "type": "object",
      "description": "High-level system architecture design",
      "properties": {
        "highLevelDiagram": {
          "type": "string",
          "description": "Link or embed architecture diagram"
        },
        "architecturalPatterns": {
          "type": "string",
          "description": "Description of architectural patterns used"
        }
      },
      "required": ["highLevelDiagram", "architecturalPatterns"],
      "additionalProperties": false
    },
    "dataDesign": {
      "type": "object",
      "description": "Data model and flow design",
      "properties": {
        "dataModelSchema": {
          "type": "string",
          "description": "Database schema or data model description"
        },
        "dataFlowDiagram": {
          "type": "string",
          "description": "Link or description of data flow"
        }
      },
      "required": ["dataModelSchema", "dataFlowDiagram"],
      "additionalProperties": false
    },
    "interfaceDesign": {
      "type": "object",
      "description": "API and interface specifications",
      "properties": {
        "apiEndpoints": {
          "type": "array",
          "description": "List of API endpoints and their specifications",
          "items": {
            "type": "string"
          }
        }
      },
      "required": ["apiEndpoints"],
      "additionalProperties": false
    },
    "componentDesign": {
      "type": "array",
      "description": "Individual component specifications",
      "items": {
        "type": "object",
        "properties": {
          "componentName": {
            "type": "string",
            "description": "Name of the component"
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the component"
          },
          "dependencies": {
            "type": "array",
            "description": "List of dependencies for this component",
            "items": {
              "type": "string"
            }
          }
        },
        "required": ["componentName", "description", "dependencies"],
        "additionalProperties": false
      }
    },
    "risksAndAlternatives": {
      "type": "object",
      "description": "Technical risks and alternative approaches considered",
      "properties": {
        "potentialRisks": {
          "type": "array",
          "description": "Identified technical risks",
          "items": {
            "type": "string"
          }
        },
        "alternativesConsidered": {
          "type": "array",
          "description": "Alternative approaches that were considered",
          "items": {
            "type": "string"
          }
        }
      },
      "required": ["potentialRisks", "alternativesConsidered"],
      "additionalProperties": false
    }
  },
  "required": ["type", "sourcePRD", "systemArchitecture", "dataDesign", "interfaceDesign", "componentDesign", "risksAndAlternatives"],
  "additionalProperties": false
}
